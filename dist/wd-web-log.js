!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("WdWebLog",[],n):"object"==typeof exports?exports.WdWebLog=n():e.WdWebLog=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(r){if(o[r])return o[r].exports;var t=o[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var o={};return n.m=e,n.c=o,n.d=function(e,o,r){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=1)}([function(e,n,o){"use strict";var r=o(3),t=o(5),i={mta:r.a},a=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({},t.a,n);if(e.options=o,!i.hasOwnProperty(o.type))throw new Error("上报平台不存在或者尚未支持");return e.reporter=i[o.type](o),o.autoClick&&document.addEventListener("click",function(n){var o=n.target,r=o.innerText||o.value;r&&e.send("auto_"+r,"",n)}),o.autoError&&(window.onerror=function(n,o,r,t,i){var a={errorMessage:n,scriptURI:o,lineNumber:r,columnNumber:t,errorObj:i};e.send("error",a),e.options.onError&&e.options.onError(a)}),e.reporter};a.send=function(e,n,o){var r=a.options,t=a.reporter;if(!t||!r)throw new Error("实例不存在");r.autoSend&&t.send(e,n),r.onSend&&r.onSend(e,n,t,o)},n.a=a},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),o.d(n,"VueLogger",function(){return i});var r=o(2),t=o(0),i=r.a;n.default=t.a},function(e,n,o){"use strict";var r=o(0),t=function(e,n){var o=Object(r.a)(n);e.directive("log",{inserted:function(e,n,o){var t=n.value;if(!t)throw new Error("Like v-log=\"'click'\"");e.addEventListener("click",function(e){r.a.send(t,"",e)})}}),e.directive("stat",{inserted:function(e,n,o){var t=n.value;if(!t)throw new Error("Like v-stat=\"'view'\"");r.a.send(t,"")}}),r.a.options.autoError&&(e.config.errorHandler=function(e,n,o){var t=e.message,i=e.stack,a=void 0,s=void 0,c=void 0,d=i.match(/\(.+?\)/);d&&d.length&&(d=d[0]),d=d.replace(/\w.+js/g,function(e){return a=e,""}),d=d.split(":"),d&&d.length>1&&(c=parseInt(d[1]||0)),s=parseInt(d[2]||0);var u={msg:t,col:s,line:c,resourceUrl:a};r.a.send("error",u),r.a.options.onError&&r.a.options.onError(u)}),e.prototype.$stat||Object.defineProperty(e.prototype,"$stat",{value:o.send})};"undefined"!=typeof window&&window.Vue&&(window.WdVueLog={install:t}),n.a={install:t}},function(e,n,o){"use strict";var r=o(4),t=o.n(r),i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},a=function(e){var n=e.debug,o=void 0!==n&&n,r=e.config,a=void 0===r?{}:r;o&&console.log("init mta",a);var s=a.sid,c=void 0===s?"":s,d=a.cid,u=void 0===d?"":d,p=a.autoReport,f=void 0===p?1:p,v=a.senseHash,l=void 0===v?1:v,h=a.senseQuery,m=void 0===h?0:h,g=a.performanceMonitor,w=void 0===g?0:g,y=a.ignoreParams,b=void 0===y?0:y;return t.a.init({sid:c,cid:u,autoReport:f,senseHash:l,senseQuery:m,performanceMonitor:w,ignoreParams:b}),i({send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){"string"==typeof e&&(e={event:e,data:n});var r={type:"click",event:"",data:{}};e=Object.assign({},r,e),t.a.clickStat(e.event,e.data||{}),o&&console.log("event_type="+e.type+", event_id="+e.event+", data=",{data:e.data})}}},t.a)};n.a=a},function(e,n){function o(e){return e=window.localStorage?localStorage.getItem(e)||sessionStorage.getItem(e):(e=document.cookie.match(new RegExp("(?:^|;\\s)"+e+"=(.*?)(?:;\\s|$)")))?e[1]:""}function r(e,n,o){if(window.localStorage)try{o?localStorage.setItem(e,n):sessionStorage.setItem(e,n)}catch(e){}else document.cookie=e+"="+n+";path=/;domain="+t()+(o?";expires="+o:"")}function t(){var e=window.location.host,n={"com.cn":1,"js.cn":1,"net.cn":1,"gov.cn":1,"com.hk":1,"co.nz":1},o=e.split(".");return 2<o.length&&(e=(n[o.slice(-2).join(".")]?o.slice(-3):o.slice(-2)).join(".")),e}function i(e,n){var o,r={};if(void 0===n)var t=window.location,i=t.host,a=t.pathname,s=t.search.substr(1),c=t.hash;else t=n.match(/\w+:\/\/((?:[\w-]+\.)+\w+)(?::\d+)?(\/[^\?\\"'\|:<>]*)?(?:\?([^'"\\<>#]*))?(?:#(\w+))?/i)||[],i=t[1],a=t[2],s=t[3],c=t[4];return void 0!==c&&(c=c.replace(/"|'|<|>/gi,"M")),s&&function(){for(var e=s.split("&"),n=0,o=e.length;n<o;n++)if(-1!=e[n].indexOf("=")){var t=e[n].indexOf("="),i=e[n].slice(0,t);t=e[n].slice(t+1),r[i]=t}}(),s=function(){if(void 0===s)return s;for(var n=s.split("&"),o=[],r=0,t=n.length;r<t;r++)if(-1!=n[r].indexOf("=")){var i=n[r].indexOf("="),a=n[r].slice(0,i);i=n[r].slice(i+1),e.ignoreParams&&-1!=e.ignoreParams.indexOf(a)||o.push(a+"="+i)}return o.join("&")}(),c&&function(){for(var e=0==c.indexOf("#")?c.substr(1).split("&"):c.split("&"),n=0,r=e.length;n<r;n++)if(-1!=e[n].indexOf("=")){var t=e[n].indexOf("="),i=e[n].slice(0,t);if(t=e[n].slice(t+1),"adtag"===i.toLowerCase()){o=t;break}}}(),{host:i,path:a,search:s,hash:c,param:r,adtag:o}}function a(e){var n=i(e),t={dm:n.host,pvi:"",si:"",url:n.path,arg:encodeURIComponent(n.search||"").substr(0,512),ty:0};return t.pvi=function(){if(e.userReport){var n=o("pgv_uid");n&&n==e.user.user_id||(t.ty=1,r("pgv_uid",e.user.user_id,"Sun, 18 Jan 2038 00:00:00 GMT;")),n=e.user.user_id}else(n=o("pgv_pvi"))||(t.ty=1,n=s(),r("pgv_pvi",n,"Sun, 18 Jan 2038 00:00:00 GMT;"));return n}(),t.si=function(){var e=o("pgv_si");return e||(e=s("s"),r("pgv_si",e)),e}(),t.url=function(){var o=n.path;return e.senseQuery&&(o+=n.search?"?"+encodeURIComponent(n.search||"").substr(0,512):""),e.senseHash&&(o+=n.hash?encodeURIComponent(n.hash):""),o}(),t}function s(e){for(var n=[0,1,2,3,4,5,6,7,8,9],o=10;1<o;o--){var r=Math.floor(10*Math.random()),t=n[r];n[r]=n[o-1],n[o-1]=t}for(o=r=0;5>o;o++)r=10*r+n[o];return(e||"")+(r+"")+ +new Date}function c(e){return{r2:e.sid}}function d(e){var n={};if(e){var o,r=[];for(o in e)e.hasOwnProperty(o)&&r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));e=r.join(";"),n.ext=e}return n}function u(e){var n=i(e,document.referrer);return e=i(e),{rdm:n.host,rurl:n.path,rarg:encodeURIComponent(n.search||"").substr(0,512),adt:e.param.ADTAG||e.param.adtag||e.param.CKTAG||e.param.cktag||e.param.PTAG||e.param.ptag||e.adtag}}function p(){try{var e=navigator,n=screen||{width:"",height:"",colorDepth:""},o={scr:n.width+"x"+n.height,scl:n.colorDepth+"-bit",lg:(e.language||e.userLanguage).toLowerCase(),tz:(new Date).getTimezoneOffset()/60}}catch(e){return{}}return o}function f(){if(window.performance){var e=window.performance.timing,n={value:e.domainLookupEnd-e.domainLookupStart},o={value:e.connectEnd-e.connectStart},r={value:e.responseStart-(e.requestStart||e.responseStart+1)},t=e.responseEnd-e.responseStart;e.domContentLoadedEventStart?0>t&&(t=0):t=-1,e={domainLookupTime:n,connectTime:o,requestTime:r,resourcesLoadedTime:{value:t},domParsingTime:{value:e.domContentLoadedEventStart?e.domInteractive-e.domLoading:-1},domContentLoadedTime:{value:e.domContentLoadedEventStart?e.domContentLoadedEventStart-e.fetchStart:-1}}}else e="";return e}e.exports={conf:{},version:"2.0.15",init:function(e){var n={sid:0,cid:0,autoReport:0,senseHash:0,senseQuery:0,userReport:0,performanceMonitor:0,ignoreParams:[]};if(e)for(var o in e)e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(n[o]=e[o]);this.conf=n,this.conf.autoReport&&this.pgv()},pgv:function(){var e=this.conf,n=[],o=this.version;if(e.sid)if(!e.userReport||e.user&&e.user.user_id&&!parseInt(e.user.user_id,10)!==conf.user.user_id){for(var r=0,t=[a(e),u(e),c(e),p(),d({version:o}),{random:+new Date}],i=t.length;r<i;r++)for(var s in t[r])t[r].hasOwnProperty(s)&&n.push(s+"="+(void 0===t[r][s]?"":t[r][s]));var v=function(e){e=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+e.join("&").toLowerCase();var n=new Image;n.onload=n.onerror=n.onabort=function(){n=n.onload=n.onerror=n.onabort=null},n.src=e};v(n),e.performanceMonitor&&(n=function(){for(var n=f(),r=[],t=[],i=0,s=[a(e),{r2:e.cid},p(),{random:+new Date}],c=s.length;i<c;i++)for(var u in s[i])s[i].hasOwnProperty(u)&&t.push(u+"="+(void 0===s[i][u]?"":s[i][u]));for(u in n)n.hasOwnProperty(u)&&("domContentLoadedTime"==u?t.push("r3="+n[u].value):r.push(n[u].value));n=d({pfm:r.join("_"),version:o}),t.push("ext="+n.ext),v(t)},void 0!==window.performance&&void 0!==window.performance.timing&&0!=window.performance.timing.loadEventEnd?n():window.attachEvent?window.attachEvent("onload",n):window.addEventListener&&window.addEventListener("load",n,!1))}else console.log("MTA H5分析错误提示：您选择了用户统计uv，请设置业务的user_id，需为int类型");else console.log("MTA H5分析错误提示：您没有设置sid")},clickStat:function(e,n){var o=this.conf,r=[],t=a(o),i=c(o);if(o.cid){t.dm="taclick",t.url=e,i.r2=o.cid,i.r5=function(e){e=void 0===e?{}:e;var n,o=[];for(n in e)e.hasOwnProperty(n)&&o.push(n+"="+encodeURIComponent(e[n]));return o.join(";")}(n);var s=0;for(o=[t,u(o),i,p(),d({version:this.version}),{random:+new Date}],t=o.length;s<t;s++)for(var f in o[s])o[s].hasOwnProperty(f)&&r.push(f+"="+(void 0===o[s][f]?"":o[s][f]));r=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+r.join("&");var v=new Image;v.onload=v.onerror=v.onabort=function(){v=v.onload=v.onerror=v.onabort=null},v.src=r}else console.log("MTA H5分析错误提示：您没有设置cid,请到管理台开通自定义事件并更新统计代码")},clickShare:function(e){var n=this.conf,o=i(n);o=o.param.CKTAG||o.param.ckatg;var r=void 0===o?[]:o.split(".");if(n.cid){o=[];var t=a(n),s=c(n);for(t.dm="taclick_share",t.url="mtah5-share-"+e,s.r2=n.cid,s.r5=function(e,n){var o=[];return 2===e.length&&"mtah5_share"==e[0]&&o.push(e[0]+"="+e[1]),o.join(";")}(r),e=0,n=[t,u(n),s,p(),d({version:this.version}),{random:+new Date}],t=n.length;e<t;e++)for(var f in n[e])n[e].hasOwnProperty(f)&&o.push(f+"="+(void 0===n[e][f]?"":n[e][f]));f=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+o.join("&");var v=new Image;v.onload=v.onerror=v.onabort=function(){v=v.onload=v.onerror=v.onabort=null},v.src=f}else console.log("MTA H5分析错误提示：您没有设置cid,请到管理台开通自定义事件并更新统计代码")}}},function(e,n,o){"use strict";n.a={autoClick:!1,autoSend:!0,autoError:!0,debug:!1,type:"mta",config:{},onSend:function(e,n,o,r){},onError:function(e){}}}])});