!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("WdWebLog",[],n):"object"==typeof exports?exports.WdWebLog=n():e.WdWebLog=n()}("undefined"!=typeof self?self:this,function(){return function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var o={};return n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=1)}([function(e,n,o){"use strict";var t=o(3),r=o(5),i={mta:t.a},a=null,s=null,c=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s=Object.assign({},r.a,n),!i.hasOwnProperty(s.type))throw new Error("上报平台不存在或者尚未支持");return a=i[s.type](s),s.autoClick&&document.addEventListener("click",function(n){var o=n.target,t=o.innerText||o.value;t&&e.send("auto_"+t,n)}),a};c.send=function(e,n){if(!a||!s)throw new Error("实例不存在");s.autoSend&&a.send(e),s.onSend&&s.onSend(e,a,n)},n.a=c},function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),o.d(n,"VueLogger",function(){return i});var t=o(2),r=o(0),i=t.a;n.default=r.a},function(e,n,o){"use strict";var t=o(0),r=function(e,n){var o=Object(t.a)(n);e.directive("log",{inserted:function(e,n,o){var r=n.value;if(!r)throw new Error("Like v-log=\"'click'\"");e.addEventListener("click",function(e){t.a.send(r,e)})}}),e.prototype.$stat||Object.defineProperty(e.prototype,"$stat",{value:o.send})};"undefined"!=typeof window&&window.Vue&&(window.WdVueLog={install:r}),n.a={install:r}},function(e,n,o){"use strict";var t=o(4),r=o.n(t),i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},a=function(e){var n=e.debug,o=void 0!==n&&n,t=e.config,a=void 0===t?{}:t;o&&console.log("init mta",a);var s=a.sid,c=void 0===s?"":s,d=a.cid,u=void 0===d?"":d,p=a.autoReport,f=void 0===p?1:p,l=a.senseHash,v=void 0===l?1:l,h=a.senseQuery,m=void 0===h?0:h,g=a.performanceMonitor,w=void 0===g?0:g,y=a.ignoreParams,b=void 0===y?0:y;return r.a.init({sid:c,cid:u,autoReport:f,senseHash:v,senseQuery:m,performanceMonitor:w,ignoreParams:b}),i({send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){"string"==typeof e&&(e={event:e});var n={type:"click",event:"",data:{}};e=Object.assign({},n,e),r.a.clickStat(e.event,e.data||{}),o&&console.log("event_type="+e.type+", event_id="+e.event+", data=",{data:e.data})}}},r.a)};n.a=a},function(e,n){function o(e){return e=window.localStorage?localStorage.getItem(e)||sessionStorage.getItem(e):(e=document.cookie.match(new RegExp("(?:^|;\\s)"+e+"=(.*?)(?:;\\s|$)")))?e[1]:""}function t(e,n,o){if(window.localStorage)try{o?localStorage.setItem(e,n):sessionStorage.setItem(e,n)}catch(e){}else document.cookie=e+"="+n+";path=/;domain="+r()+(o?";expires="+o:"")}function r(){var e=window.location.host,n={"com.cn":1,"js.cn":1,"net.cn":1,"gov.cn":1,"com.hk":1,"co.nz":1},o=e.split(".");return 2<o.length&&(e=(n[o.slice(-2).join(".")]?o.slice(-3):o.slice(-2)).join(".")),e}function i(e,n){var o,t={};if(void 0===n)var r=window.location,i=r.host,a=r.pathname,s=r.search.substr(1),c=r.hash;else r=n.match(/\w+:\/\/((?:[\w-]+\.)+\w+)(?::\d+)?(\/[^\?\\"'\|:<>]*)?(?:\?([^'"\\<>#]*))?(?:#(\w+))?/i)||[],i=r[1],a=r[2],s=r[3],c=r[4];return void 0!==c&&(c=c.replace(/"|'|<|>/gi,"M")),s&&function(){for(var e=s.split("&"),n=0,o=e.length;n<o;n++)if(-1!=e[n].indexOf("=")){var r=e[n].indexOf("="),i=e[n].slice(0,r);r=e[n].slice(r+1),t[i]=r}}(),s=function(){if(void 0===s)return s;for(var n=s.split("&"),o=[],t=0,r=n.length;t<r;t++)if(-1!=n[t].indexOf("=")){var i=n[t].indexOf("="),a=n[t].slice(0,i);i=n[t].slice(i+1),e.ignoreParams&&-1!=e.ignoreParams.indexOf(a)||o.push(a+"="+i)}return o.join("&")}(),c&&function(){for(var e=0==c.indexOf("#")?c.substr(1).split("&"):c.split("&"),n=0,t=e.length;n<t;n++)if(-1!=e[n].indexOf("=")){var r=e[n].indexOf("="),i=e[n].slice(0,r);if(r=e[n].slice(r+1),"adtag"===i.toLowerCase()){o=r;break}}}(),{host:i,path:a,search:s,hash:c,param:t,adtag:o}}function a(e){var n=i(e),r={dm:n.host,pvi:"",si:"",url:n.path,arg:encodeURIComponent(n.search||"").substr(0,512),ty:0};return r.pvi=function(){if(e.userReport){var n=o("pgv_uid");n&&n==e.user.user_id||(r.ty=1,t("pgv_uid",e.user.user_id,"Sun, 18 Jan 2038 00:00:00 GMT;")),n=e.user.user_id}else(n=o("pgv_pvi"))||(r.ty=1,n=s(),t("pgv_pvi",n,"Sun, 18 Jan 2038 00:00:00 GMT;"));return n}(),r.si=function(){var e=o("pgv_si");return e||(e=s("s"),t("pgv_si",e)),e}(),r.url=function(){var o=n.path;return e.senseQuery&&(o+=n.search?"?"+encodeURIComponent(n.search||"").substr(0,512):""),e.senseHash&&(o+=n.hash?encodeURIComponent(n.hash):""),o}(),r}function s(e){for(var n=[0,1,2,3,4,5,6,7,8,9],o=10;1<o;o--){var t=Math.floor(10*Math.random()),r=n[t];n[t]=n[o-1],n[o-1]=r}for(o=t=0;5>o;o++)t=10*t+n[o];return(e||"")+(t+"")+ +new Date}function c(e){return{r2:e.sid}}function d(e){var n={};if(e){var o,t=[];for(o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));e=t.join(";"),n.ext=e}return n}function u(e){var n=i(e,document.referrer);return e=i(e),{rdm:n.host,rurl:n.path,rarg:encodeURIComponent(n.search||"").substr(0,512),adt:e.param.ADTAG||e.param.adtag||e.param.CKTAG||e.param.cktag||e.param.PTAG||e.param.ptag||e.adtag}}function p(){try{var e=navigator,n=screen||{width:"",height:"",colorDepth:""},o={scr:n.width+"x"+n.height,scl:n.colorDepth+"-bit",lg:(e.language||e.userLanguage).toLowerCase(),tz:(new Date).getTimezoneOffset()/60}}catch(e){return{}}return o}function f(){if(window.performance){var e=window.performance.timing,n={value:e.domainLookupEnd-e.domainLookupStart},o={value:e.connectEnd-e.connectStart},t={value:e.responseStart-(e.requestStart||e.responseStart+1)},r=e.responseEnd-e.responseStart;e.domContentLoadedEventStart?0>r&&(r=0):r=-1,e={domainLookupTime:n,connectTime:o,requestTime:t,resourcesLoadedTime:{value:r},domParsingTime:{value:e.domContentLoadedEventStart?e.domInteractive-e.domLoading:-1},domContentLoadedTime:{value:e.domContentLoadedEventStart?e.domContentLoadedEventStart-e.fetchStart:-1}}}else e="";return e}e.exports={conf:{},version:"2.0.15",init:function(e){var n={sid:0,cid:0,autoReport:0,senseHash:0,senseQuery:0,userReport:0,performanceMonitor:0,ignoreParams:[]};if(e)for(var o in e)e.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(n[o]=e[o]);this.conf=n,this.conf.autoReport&&this.pgv()},pgv:function(){var e=this.conf,n=[],o=this.version;if(e.sid)if(!e.userReport||e.user&&e.user.user_id&&!parseInt(e.user.user_id,10)!==conf.user.user_id){for(var t=0,r=[a(e),u(e),c(e),p(),d({version:o}),{random:+new Date}],i=r.length;t<i;t++)for(var s in r[t])r[t].hasOwnProperty(s)&&n.push(s+"="+(void 0===r[t][s]?"":r[t][s]));var l=function(e){e=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+e.join("&").toLowerCase();var n=new Image;n.onload=n.onerror=n.onabort=function(){n=n.onload=n.onerror=n.onabort=null},n.src=e};l(n),e.performanceMonitor&&(n=function(){for(var n=f(),t=[],r=[],i=0,s=[a(e),{r2:e.cid},p(),{random:+new Date}],c=s.length;i<c;i++)for(var u in s[i])s[i].hasOwnProperty(u)&&r.push(u+"="+(void 0===s[i][u]?"":s[i][u]));for(u in n)n.hasOwnProperty(u)&&("domContentLoadedTime"==u?r.push("r3="+n[u].value):t.push(n[u].value));n=d({pfm:t.join("_"),version:o}),r.push("ext="+n.ext),l(r)},void 0!==window.performance&&void 0!==window.performance.timing&&0!=window.performance.timing.loadEventEnd?n():window.attachEvent?window.attachEvent("onload",n):window.addEventListener&&window.addEventListener("load",n,!1))}else console.log("MTA H5分析错误提示：您选择了用户统计uv，请设置业务的user_id，需为int类型");else console.log("MTA H5分析错误提示：您没有设置sid")},clickStat:function(e,n){var o=this.conf,t=[],r=a(o),i=c(o);if(o.cid){r.dm="taclick",r.url=e,i.r2=o.cid,i.r5=function(e){e=void 0===e?{}:e;var n,o=[];for(n in e)e.hasOwnProperty(n)&&o.push(n+"="+encodeURIComponent(e[n]));return o.join(";")}(n);var s=0;for(o=[r,u(o),i,p(),d({version:this.version}),{random:+new Date}],r=o.length;s<r;s++)for(var f in o[s])o[s].hasOwnProperty(f)&&t.push(f+"="+(void 0===o[s][f]?"":o[s][f]));t=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+t.join("&");var l=new Image;l.onload=l.onerror=l.onabort=function(){l=l.onload=l.onerror=l.onabort=null},l.src=t}else console.log("MTA H5分析错误提示：您没有设置cid,请到管理台开通自定义事件并更新统计代码")},clickShare:function(e){var n=this.conf,o=i(n);o=o.param.CKTAG||o.param.ckatg;var t=void 0===o?[]:o.split(".");if(n.cid){o=[];var r=a(n),s=c(n);for(r.dm="taclick_share",r.url="mtah5-share-"+e,s.r2=n.cid,s.r5=function(e,n){var o=[];return 2===e.length&&"mtah5_share"==e[0]&&o.push(e[0]+"="+e[1]),o.join(";")}(t),e=0,n=[r,u(n),s,p(),d({version:this.version}),{random:+new Date}],r=n.length;e<r;e++)for(var f in n[e])n[e].hasOwnProperty(f)&&o.push(f+"="+(void 0===n[e][f]?"":n[e][f]));f=("https:"==document.location.protocol?"https://pingtas.qq.com/webview":"http://pingtcss.qq.com")+"/pingd?"+o.join("&");var l=new Image;l.onload=l.onerror=l.onabort=function(){l=l.onload=l.onerror=l.onabort=null},l.src=f}else console.log("MTA H5分析错误提示：您没有设置cid,请到管理台开通自定义事件并更新统计代码")}}},function(e,n,o){"use strict";n.a={autoClick:!1,autoSend:!0,debug:!1,type:"mta",config:{},onSend:function(e,n,o){}}}])});